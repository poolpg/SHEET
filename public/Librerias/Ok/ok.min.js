var Ok=function(){"use strict";const t=()=>!(t=>((t,...s)=>s.some(s=>typeof t===s))(t,"undefined"))(HTMLInputElement.prototype.setCustomValidity);return class{constructor(t,s="invalid"){this.map=(t=>new Map(Object.entries(t)))(t),this.invalidClass=s}validate(s,...i){if(!s.dataset.ok)throw new Error("no validator assigned");const a=(t=>(t=>"checkbox"===t.type||"radio"===t.type)(t)?t.checked:t.value)(s),e=s.dataset.ok.split(",").map(t=>t.trim());let n=!0;return e.forEach(e=>{if(n){if(!this.map.has(e))throw new Error(`missing validator '${e}'`);const o=this.map.get(e);o.fn(a,s,...i)||(n=!1,t()&&s.setCustomValidity(o.msg))}}),n?(t()&&s.setCustomValidity(""),this.invalidClass&&s.classList.remove(this.invalidClass)):this.invalidClass&&s.classList.add(this.invalidClass),n}bind(t,s="input"){t.addEventListener(s,s=>this.validate(t,s))}}}();
//# sourceMappingURL=ok.min.js.map
